$(document).ready(function(){$("#location_search").submit(function(e){e.preventDefault();var t=$("#location_search input[name='location']").val();if(t!==""){$("#location_bar").css("top","-100px");$("#location_map").length>0&&$("#location_map").delay(800).slideUp("fast",function(){$(this).remove()});$("#location_images").length>0&&$("#location_images").delay(300).fadeOut(function(){$(this).remove()});$.ajaxSetup({cache:!1});$.ajax({data:"location="+t,url:"data.php"}).done(function(e){var t=$.parseJSON(e);$("#location_search input[name='location']").val(t.location);$("#location_meta").html("<p>"+t.weather.time+' <img id="location_weather" src="img/climacons/'+t.weather.icon+'.svg" /></p>');$("#content").hide();$("#content").append('<section id="location_map" style="background-image:url('+t.map+'&style=visibility:off&style=visibility:off&style=feature:water|visibility:on|hue:0x88c8ea|saturation:-10|lightness:1&style=feature:landscape|visibility:on|hue:0xf3f4f4|saturation:-100|lightness:1&style=feature:poi.park|visibility:on|hue:0x91c9ae|saturation:10|lightness:1&style=feature:road|visibility:on&style=feature:road.arterial|visibility:on|hue:0xfddf84|saturation:100|lightness:1&style=feature:road.highway|visibility:on|hue:0xfddf84|saturation:100|lightness:1&style=feature:road.local|visibility:on|hue:0xffffff|saturation:-100|lightness:100&style=feature:road|element:geometry.stroke|visibility:off&style=element:labels|visibility:off);"></section>');$("#location_map").hide();$("#content").append('<section id="location_images">');$.each(t.images,function(e,t){$("#location_images").append('<img src="'+t+'"" />')});$("#location_images").append('<div class="clear"></div>');$("#content").append("</section>");$("#location_images").hide();$("#location_bar").delay(300).css("top","0");$("#content").delay(800).show();$("#location_map").delay(800).slideDown(300);$("#location_images").delay(1500).fadeIn()}).fail(function(){alert("Something went wrong :(")})}})});