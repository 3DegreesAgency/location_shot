$(document).ready(function(){$("#location_search").submit(function(e){e.preventDefault();var t=$("#location_search input[name='location']").val();if(t!==""){$("#location_bar").css("top","-100px");$("#location_map").css("top","-400px");$("#location_images").fadeOut(function(){$(this).html("")});$.ajaxSetup({cache:!1});$.ajax({data:"location="+t,url:"data.php"}).done(function(e){if(e){var t=$.parseJSON(e);$("#location_search input[name='location']").val("");$("#location_search input[name='location']").attr("placeholder",t.location);$("#location_meta").html("<p>"+t.weather.time+' <img id="location_weather" src="img/climacons/'+t.weather.icon+'.svg" /></p>');$("#location_map").attr("style","background-image:url("+t.map+"&style=visibility:off&style=visibility:off&style=feature:water|visibility:on|hue:0x88c8ea|saturation:-10|lightness:1&style=feature:landscape|visibility:on|hue:0xf3f4f4|saturation:-100|lightness:1&style=feature:poi.park|visibility:on|hue:0x91c9ae|saturation:10|lightness:1&style=feature:road|visibility:on&style=feature:road.arterial|visibility:on|hue:0xfddf84|saturation:100|lightness:1&style=feature:road.highway|visibility:on|hue:0xfddf84|saturation:100|lightness:1&style=feature:road.local|visibility:on|hue:0xffffff|saturation:-100|lightness:100&style=feature:road|element:geometry.stroke|visibility:off&style=element:labels|visibility:off);");if(t.images){$.each(t.images,function(e,t){$("#location_images").append('<div class="image"><span>'+t.title+'</span><img src="'+t.image+'"" /></div>')});$("#location_images").append('<div class="clear"></div>')}else $("#location_images").append("<p>There are no images for this location</p>");$("#location_bar").css("top","0");$("#location_map").css("top","0");$("#location_images").delay(600).fadeIn()}else{$("#location_search input[name='location']").val("");$("#location_search input[name='location']").attr("placeholder","Sorry, no results!");$("#location_meta").html("");$("#location_bar").css("top","0")}}).fail(function(){})}})});